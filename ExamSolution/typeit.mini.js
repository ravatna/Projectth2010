if(!window.editorID){var editorID="default"}var SMOOTH_TRANSITIONS=true;var BLOCK_ALL_SHORTCUTS_WITH={};var aW=(BrowserDetect.IE||BrowserDetect.Edge||(BrowserDetect.MacOS&&!BrowserDetect.Safari))?"Ctrl+":"Alt+";var gModifier=aW;var aX=(BrowserDetect.MacOS||BrowserDetect.iOS)?"Meta+":"Ctrl+";var DEFAULT_FONT_SIZE=18;var prefCookiesPostfix="default";var DEFAULT_AUTOPRETTY=true;var preventStickyFormatting=false;var HIGHLIGHT_FREQUENT_BUTTONS=false;var BUTTON_HIGHLIGHT_BG_COLOR=[0,204,255];var BUTTON_HIGHLIGHT_TEXT_COLOR=[0,0,0];var HIDDEN_BUTTONS_SHOWN_BY_DEFAULT=false;var aY=800;var CARET_SHORTCUT_TIP=null;var aZ;var textBoxHasLoaded=false;var ba=false;var chars={};chars.DEFAULT={lower:null,upper:null};chars.DEFAULT_OPENING_QUOTE={lower:"\u201c"};chars.DEFAULT_CLOSING_QUOTE={lower:"\u201d"};chars.DEFAULT_STRAIGHT_QUOTE={lower:"\x22"};chars.DEFAULT_APOSTROPHE={lower:"\u2019"};chars.DEFAULT_STRAIGHT_APOSTROPHE={lower:"\x27"};chars.DEFAULT_DASH={lower:"\x2d"};chars.DEFAULT_ENDASH={lower:"\u2013"};chars.DEFAULT_EMDASH={lower:"\u2014"};var keys={};var autoPrettyKeys={};var compose={};DEFAULT_AUTOPRETTY_KEYS={};DEFAULT_AUTOPRETTY_KEYS["\x22"]=[chars.DEFAULT_OPENING_QUOTE,chars.DEFAULT_CLOSING_QUOTE,chars.DEFAULT_STRAIGHT_QUOTE];DEFAULT_AUTOPRETTY_KEYS["\x27"]=[chars.DEFAULT_APOSTROPHE,chars.DEFAULT_STRAIGHT_APOSTROPHE];DEFAULT_AUTOPRETTY_KEYS["\x2d"]=[chars.DEFAULT_DASH,chars.DEFAULT_ENDASH,chars.DEFAULT_EMDASH];var bb=window.location;var bc={},bd={};var be=0;var bf=[];var bg=new Object;var bh=bb.hostname;var bi=false;var bj=0;var bk=false;var bl=0;var bm,bn;function bo(){if(BrowserDetect.IE8&&document.activeElement.id=="typeit_textbox"){bg=gTextBoxDocument.selection.createRange()}}function bp(){if(BrowserDetect.IE8){bg.select()}else{bn()}}function command(a){switch(a){case"ClearAll":command("SelectAll");command("Delete");break;case"CopyAll":command("SelectAll");command("Copy");break;default:(gTextBoxIframeWindow?gTextBoxDocument:document).execCommand(a,false,false);cr.save(false);break}}function bq(b,m){var l,k,j;var i,h,a;var g,d;if(b[0]!==undefined){h=b;i=(be>0);if(h[be]===undefined){be=0}g=be;if(i){d=(be>0?be-1:h.length-1)}else{d=g}}else{a=b;i=false}do{if(h){a=h[be]}if(m){l=(a.upper!==undefined?a.upper:a.lower)}else{if(a.composeID){if(j===undefined){if(i&&bc.g!==""){j=bc.g}else{j=bx((i&&bc.h)?window.composedTextLength+bc.h.length+1:window.composedTextLength+1).charAt(0)}}k=compose[j+"\x2b"+a.composeID];l=(k===undefined?a.lower:k)}else{if(m){l=(a.upper!==undefined?a.upper:a.lower)}else{l=a.lower}}}if(l===undefined&&h){be++;if(be>=h.length){be=0}if(be==g){break}if(be==d){be=0;return bq(h,m)}}else{break}}while(true);if(!i&&bf.length>0&&bf[bf.length-1].g===""){bf=[]}if(l===undefined){bd.g="";if(window.composedTextLength>0){bd.h="\x5f";if(bf.length>0){bf=[]}}be=0;return 1}bA();if(i){var c=bf.pop();if(bc.g!==""){if(k){bu(bc.h.length)}else{ca(c)}}else{if(k){bu(bc.h.length+1)}else{bu(bc.h.length)}}}else{if(k){bu(1)}}if(l===null){bd.g="";if(bf.length>0){bf=[]}be=0;return 0}if(k===undefined){bd.g="";if(bf.length>0){bf.push(bd)}}else{bd.g=j;if(bf.length>0&&bf[bf.length-1].g===""){bf=[]}bf.push(bd)}bd.h=l;br(l);return 2}function br(b){var a;if(BrowserDetect.Edge){a=bJ()}if(BrowserDetect.Edge){bn()}gTextBoxDocument.execCommand("insertText",false,b);if(!gTextBoxSelection.isCollapsed){gTextBoxSelection.collapseToEnd()}if(BrowserDetect.Edge){var c=bK(gTextBoxSelection.anchorNode);if(bL(c,a)){bD(gTextBoxSelection,b.length);bM(c,a);gTextBoxSelection.collapseToEnd()}}}function bs(d,a){var g=d.length;if(d=="\x26"){d="&amp;"}if(document.activeElement.id=="typeit_textbox"){bg=gTextBoxDocument.selection.createRange()}var c;if(bg){bg.select();if(!a){c=bJ()}bg.pasteHTML(d);bg.collapse(false);if(!a){var b=bK(bg.parentElement());if(bL(b,c)){bg.moveStart("character",-g);bM(b,c);bg.collapse(false)}}bg.select()}}function bt(a){document.execCommand("insertText",false,a)}function bu(b){var a;if((a=bD(gTextBoxSelection,b))>b){gTextBoxDocument.execCommand("insertText",false,gTextBoxSelection.toString().slice(0,-b))}}function bv(a){gTextArea.selectionStart-=a}function bw(a){if(bg){bg.moveStart("character",-a);bg.select()}}function bx(c){if(gTextBoxSelection.rangeCount==0){return undefined}var b=gTextBoxSelection.getRangeAt(0).cloneRange();var a=bI(c,b.startContainer,b.startOffset);b.collapse(true);b.setStart(a.k,a.m);return b.toString()}function by(a){return gTextArea.value.slice(Math.max(gTextArea.selectionStart-a,0),gTextArea.selectionStart)}function bz(b){if(bg){var a=bg.duplicate();a.collapse(true);a.moveStart("character",-b);return a.text}}function bA(){if(window.composedTextLength>0){if(bD(gTextBoxSelection,window.composedTextLength)>0){gTextBoxDocument.execCommand("Delete",false,false)}}}function bB(){if(window.composedTextLength>0){gTextArea.selectionStart-=window.composedTextLength}}function bC(){}function bD(c,g){if(c.rangeCount==0){return}var b=c.getRangeAt(0);var a=c.toString().length;var h=bI(g,b.startContainer,b.startOffset);b.setStart(h.k,h.m);c.removeAllRanges();c.addRange(b);if(h.o>0){return(g-h.o)}var d=0;while((c.toString().length-a<g)&&(d<5)){var h=bI(1,h.k,h.m);if(h.o>0){return(g+1-h.o)}b.setStart(h.k,h.m);c.removeAllRanges();c.addRange(b);g+=1;d+=1}return g}function bE(b,c){var a=bI(c,b.startContainer,b.startOffset);b.setStart(a.k,a.m);return c}function bF(a){while(a!==gTextBoxDocument.body){if(a.previousSibling){return bG(a.previousSibling)}else{a=a.parentNode}}return null}function bG(a){if(a===null){return null}while(a.lastChild){a=a.lastChild}return a}function bH(a){do{a=bF(a)}while(a!==null&&a.nodeType!=Node.TEXT_NODE);return a}function bI(d,a,g){function c(j,i){var h=Math.min(d,i);g=i-h;d-=h}var b=a;block_1:{if(d==0){break block_1}if(a.nodeType!=Node.TEXT_NODE){a=(g>0)?bG(a.childNodes[g-1]):bF(a);if(a===null){break block_1}if(a.nodeType!=Node.TEXT_NODE){a=bH(a)}if(a===null){break block_1}g=a.nodeValue.length}do{b=a;c(a,g);if(d==0){break}a=bH(a);if(a===null){break block_1}g=a.nodeValue.length}while(true)}return{k:b,m:g,o:d}}function bJ(){return{bold:gTextBoxDocument.queryCommandState("bold"),italic:gTextBoxDocument.queryCommandState("italic"),underline:gTextBoxDocument.queryCommandState("underline"),superscript:gTextBoxDocument.queryCommandState("superscript"),subscript:gTextBoxDocument.queryCommandState("subscript"),strikethru:false}}function bK(b){var a={bold:false,italic:false,underline:false,superscript:false,subscript:false,strikethru:false};while(b!=gTextBoxDocument.body){switch(b.nodeName){case"B":case"STRONG":a.bold=true;break;case"I":case"EM":a.italic=true;break;case"U":a.underline=true;break;case"SUP":a.superscript=true;break;case"SUB":a.subscript=true;break;case"S":case"STRIKE":a.strikethru=true;break}b=b.parentNode}return a}function bL(b,a){return(b.bold!=a.bold||b.italic!=a.italic||b.underline!=a.underline||b.superscript!=a.superscript||b.subscript!=a.subscript||b.strikethru!=a.strikethru)}function bM(b,a){var c=(BrowserDetect.IE8?bg:gTextBoxDocument);if(b.bold!=a.bold){c.execCommand("bold",false,false)}if(b.italic!=a.italic){c.execCommand("italic",false,false)}if(b.underline!=a.underline){c.execCommand("underline",false,false)}if(b.superscript!=a.superscript){c.execCommand("superscript",false,false)}if(b.subscript!=a.subscript){c.execCommand("subscript",false,false)}if(b.strikethru!=a.strikethru){c.execCommand("strikeThrough",false,false)}}function bN(){if(gTextArea){return(gTextArea.selectionStart!=gTextArea.selectionEnd)}if(BrowserDetect.IE8){return(bg.text!="")}else{if(gTextBoxSelection){return(!gTextBoxSelection.isCollapsed)}else{return false}}}function bO(a){bc=bd;bd=a}function bP(a){switch(a){case 59:case 186:return";:";case 61:case 187:case 171:return"=+";case 188:return",<";case 189:case 173:return"-_";case 190:return".>";case 191:return"/?";case 219:return"[{";case 220:case 163:return"\u005C|";case 221:return"]}";case 192:case 223:return"`~";case 222:return"'\"";case 8:return"Backspace";case 9:return"Tab";case 32:return"Space";case 37:return"Left";case 38:return"Up";case 39:return"Right";case 40:return"Down";case 13:return"Enter";default:if(a<48){return"Special"}if(a<=90){return String.fromCharCode(a)}else{if(a>=112&&a<=126){return"\x46"+(a-111)}else{return"Special"}}}}function bQ(b){if(!b){if(gTextBoxIframeWindow.event){var b=gTextBoxIframeWindow.event}else{return true}}if(BrowserDetect.IE8){setTimeout(bo,0)}var d;if(b.keyCode==229&&b.keyIdentifier){d=parseInt("0x"+b.keyIdentifier.slice(-3))}else{d=b.keyCode}if(d==17||d==16||d==20||d==224||d==91||d==92){return true}var a=(b.altKey?"Alt+":"");if(b.ctrlKey&&!b.altKey){a="Ctrl+"+a}if(b.metaKey){a="Meta+"+a}var g=bP(d);var c={p:true,code:d,q:b.code,r:g,shift:b.shiftKey,u:b.ctrlKey,w:a,name:a+g};bO(c);return bX(b,c)}function bR(b){if(!b){if(gTextBoxIframeWindow.event){var b=gTextBoxIframeWindow.event}else{return true}}var c=(b.charCode!==undefined?b.charCode:b.keyCode);if(!b.ctrlKey&&!b.altKey&&!b.metaKey&&((c>32&&c<65)||(c>90&&c<97)||(c>122&&c<127))){if(bd.p&&!bd.A){bd.A=true;bd.B=String.fromCharCode(c);return bX(b,bd)}else{var a={A:true,B:String.fromCharCode(c)};bO(a);return bX(b,a)}}}function bS(a){if(!a){if(gTextBoxIframeWindow.event){var a=gTextBoxIframeWindow.event}else{return true}}if(a.keyCode==17){bO({C:true,code:a.keyCode,r:"Ctrl",name:"Ctrl",shift:a.shiftKey})}else{if(a.keyCode==18){bO({C:true,code:a.keyCode,r:"Alt",name:"Alt",shift:a.shiftKey});if(bk){return cc(a)}}}}function bT(a){bO({D:true});if(bf.length>0){bf=[]}bo()}function bU(a){bO({D:true})}function bV(a){bO({E:true});if(bf.length>0){bf=[]}if(BrowserDetect.IE8){window.setTimeout(bo,100)}}function bW(a){bO({F:true});if(bf.length>0){bf=[]}bo()}function bX(b,d){if(d.h!==undefined||d.B==d.name){return true}if(d.r=="Enter"&&d.w==gModifier&&!d.shift){cj.G();if(bf.length>0){bf=[]}return false}if(!d.A&&!d.shift&&d.w==aX&&(d.r=="\x42"||d.r=="\x49"||d.r=="\x55"||d.r=="Up"||d.r=="Down"||d.r=="Space"||d.r=="\x45")){if(!cj.H||(!keys[d.name]&&!(d.w==gModifier&&keys["Mod+"+d.r])&&(!d.q||(!keys["\x5e"+d.q]&&!(d.w==gModifier&&keys["Mod+^"+d.q]))))||bN()){switch(d.r){case"B":command("Bold");break;case"I":command("Italic");break;case"U":command("Underline");break;case"Up":command("Superscript");break;case"Down":command("Subscript");break;case"Space":case"E":command("RemoveFormat");break}if(b.preventDefault){b.preventDefault()}if(bf.length>0){bf=[]}return false}}if(d.name=="Backspace"){if(cb()){return cc(b)}else{return true}}if(cd.I(d)){return cc(b)}if(cj.H){var a,g;if(d.A){a=keys[d.B];g=false}else{if(d.p){if(aX=="Ctrl+"&&!d.shift){if((d.name=="Ctrl+C"||d.name=="Ctrl+X")&&bN()){return true}}var c=bY(d,true);if(c===null){c=bY(d,false)}if(c!==null){a=c.J;g=c.upper}}}if(a){if(!a[1]){be=0;if(ga){bj++;if(bj==1){ga("send","event","chars","1 char shortcut used")}}switch(bq(a,g)){case 0:return true;case 1:return bZ(d,b);case 2:return cc(b)}}else{if(be>0){if(d.A){if(d.B!=bc.B){be=0}}else{if(d.name!=bc.name||d.shift!=bc.shift){be=0}}}if(ga&&be==0){bj++;if(bj==1){ga("send","event","chars","1 char shortcut used")}}switch(bq(a,g)){case 0:return true;case 1:return bZ(d,b);case 2:be++;return cc(b)}}}}return bZ(d,b)}function bY(d,a){var g,c,b;if(a){if(!d.q){return null}b="\x5e"+d.q}else{b=d.r}if(d.shift){if(d.w==gModifier){if(g=keys["Mod+Shift+"+b]){c=false}else{if(g=keys["Mod+"+b]){c=true}else{if(g=keys[d.w+"Shift+"+b]){c=false}else{g=keys[d.w+b];c=true}}}}else{if(g=keys[d.w+"Shift+"+b]){c=false}else{g=keys[d.w+b];c=true}}}else{if(d.w==gModifier){g=keys["Mod+"+b]||keys[d.w+b]}else{g=keys[d.w+b]}c=false}if(!g){return null}else{return{J:g,upper:c}}}function bZ(b,a){if((BLOCK_ALL_SHORTCUTS_WITH.MOD&&gModifier=="Alt+")||BLOCK_ALL_SHORTCUTS_WITH.ALT){if(b.w=="Alt+"&&!b.u&&((b.code>=65&&b.code<=90)||(b.code>=48&&b.code<=57)||b.code==13)){return cc(a)}}else{if((BLOCK_ALL_SHORTCUTS_WITH.MOD&&gModifier=="Ctrl+")||BLOCK_ALL_SHORTCUTS_WITH.CTRL){if(b.w=="Ctrl+"&&((b.code>=65&&b.code<=90)||(b.code>=48&&b.code<=57)||b.code==13)&&(b.code!=86&&(b.code!=67&&b.code!=88&&b.code!=90)||b.shift)){return cc(a)}}}if(bf.length>0){bf=[]}return true}function ca(a){bu(a.h.length);if(a.g!=""){if(BrowserDetect.IE8){bs(a.g,true)}else{(gTextBoxIframeWindow?gTextBoxDocument:document).execCommand("insertText",false,a.g)}}}function cb(){if(bf.length>0){var a=bf.pop();if(a.g!=""){ca(a);return true}else{bf=[]}}return false}function cc(a){if(a.preventDefault){a.preventDefault();a.cancel=true}else{a.returnValue=false;a.keyCode=0;a.cancelBubble=true}return false}var cd={L:0,H:DEFAULT_AUTOPRETTY,O:null,init:function(){this.O=document.getElementById("typeit_autoprettyselector");var a=getCookie("aPretty");if(a=="\x79"){cd.P(true)}else{if(a=="\x6e"){cd.P(false)}else{cd.P(DEFAULT_AUTOPRETTY)}}if(this.O){this.O.onclick=this.Q}},P:function(a){this.H=a;if(this.O){this.O.checked=a}},save:function(){setCookie("aPretty",(cd.H?"\x79":"\x6e"),"\x2f",180)},Q:function(a){cd.P(this.checked);cd.save();bp()},I:function(b){if(cd.H&&(b.B=="\x22"||b.B=="'"||b.B=="\x2d")){var a;if(cj.H){a=window.autoPrettyKeys&&autoPrettyKeys[b.B];if(!a){a=DEFAULT_AUTOPRETTY_KEYS[b.B]}}else{a=DEFAULT_AUTOPRETTY_KEYS[b.B]}if(b.B!=bc.B){if(b.B=="\x22"&&this.R(a[0].lower,a[1].lower)){bq(a[1],false);this.L=2;return true}else{this.L=0}}if(this.L>0){var c=bf.pop();if(bc.g!==""){ca(c)}else{bu(bc.h.length)}}if(this.L>=a.length){this.L=0}bq(a[this.L],false);this.L++;return true}else{return false}},R:function(c,a){var d=bx(aY);var b=d.lastIndexOf(c);if(b==-1){return false}return(b>d.lastIndexOf(a))}};var modifierSetting={init:function(){var a=getCookie("mod");if(a=="\x41"){gModifier="Alt+"}else{if(a=="\x43"){gModifier="Ctrl+"}else{gModifier=aW}}bk=(gModifier=="Alt+")},save:function(){setupModifierDependentUI();setCookie("mod",gModifier.charAt(0),"\x2f",180)}};function setupBrowserWarning(){if(BrowserDetect.Edge){var b=document.getElementById("typeit_browser_warning");if(b){var a;if(BrowserDetect.Edge){a="Hi! Youโ€re using Microsoft Edge. This browser is still relatively new and has more bugs than other browsers available on Windows. For example, it doesnโ€t support the <kbd class=noreplace>Ctrlโ€+โ€P</kbd> shortcut, which is used to type a few characters on TypeIt. If you run into this issue, or any other bugs, I suggest switching to one of these browsers: "}var c;switch(BrowserDetect.OS){case"MacOS":c='<li><a href="http://www.mozilla.com/firefox/">Mozilla Firefox</a></li><li><a href="http://www.google.com/chrome/browser/">Google Chrome</a></li><li>Safari</li>';break;case"Windows":case"Linux":c='<li><a href="http://www.mozilla.com/firefox/">Mozilla Firefox</a></li><li><a href="http://www.google.com/chrome/browser/">Google Chrome</a></li>';break}b.innerHTML="<label>Warning:</label> "+a+(c?"<ul>"+c+"</ul>":"");b.style.display="block"}}}function ce(g){var v=[1518500249,1859775393,2400959708,3395469782];g+=String.fromCharCode(128);var y=Math.ceil(g.length/4)+2;var r=Math.ceil(y/16);var u=new Array(r);for(var A=0;A<r;A++){u[A]=new Array(16);for(var z=0;z<16;z++){u[A][z]=(g.charCodeAt(A*64+z*4)<<24)|(g.charCodeAt(A*64+z*4+1)<<16)|(g.charCodeAt(A*64+z*4+2)<<8)|(g.charCodeAt(A*64+z*4+3))}}u[r-1][14]=((g.length-1)*8)/Math.pow(2,32);u[r-1][14]=Math.floor(u[r-1][14]);u[r-1][15]=((g.length-1)*8)&4294967295;var q=1732584193;var p=4023233417;var o=2562383102;var n=271733878;var m=3285377520;var h=new Array(80);var F,E,D,C,B;for(var A=0;A<r;A++){for(var w=0;w<16;w++){h[w]=u[A][w]}for(var w=16;w<80;w++){h[w]=cf(h[w-3]^h[w-8]^h[w-14]^h[w-16],1)}F=q;E=p;D=o;C=n;B=m;for(var w=0;w<80;w++){var x=Math.floor(w/20);var k=(cf(F,5)+f(x,E,D,C)+B+v[x]+h[w])&4294967295;B=C;C=D;D=cf(E,30);E=F;F=k}q=(q+F)&4294967295;p=(p+E)&4294967295;o=(o+D)&4294967295;n=(n+C)&4294967295;m=(m+B)&4294967295}return q.toHexStr()+p.toHexStr()+o.toHexStr()+n.toHexStr()+m.toHexStr()}function f(b,a,d,c){switch(b){case 0:return(a&d)^(~a&c);case 1:return a^d^c;case 2:return(a&d)^(a&c)^(d&c);case 3:return a^d^c}}function cf(a,b){return(a<<b)|(a>>>(32-b))}Number.prototype.toHexStr=function(){var c="",a;for(var b=7;b>=0;b--){a=(this>>>(b*4))&15;c+=a.toString(16)}return c};var cg={mainDiv:null,S:null,U:null,init:function(){this.U=document.getElementById("typeit_settings_link");if(this.U){this.U.onclick=this.V}},X:function(){this.mainDiv=document.createElement("div");var a=270;this.mainDiv.id="typeit_settings_window";this.mainDiv.style.position="fixed";this.mainDiv.style.visibility="hidden";this.mainDiv.style.width=a+"px";this.mainDiv.style.left=this.mainDiv.style.top="0px";var n=document.createElement("h3");n.appendChild(document.createTextNode("Settings"));this.mainDiv.appendChild(n);var m=document.createElement("div");m.className="line";m.innerHTML="<div class=selector-line><div class=selector-container><input type=checkbox id=typeit_autopretty_selector></div><label for=typeit_autopretty_selector>Use curly quotes and long dashes</label></div><div class=desc>Auto-convert straight quotes and apostrophe into the proper quotes for the current language (or into English-style quotes if keyboard shortcuts are disabled). You can also press the <kbd>-</kbd> key repeatedly to type โ€“ and โ€”.</div>";var l=m.querySelector("#typeit_autopretty_selector");l.onclick=function(){cd.P(this.checked);cd.save()};l.checked=cd.H;this.mainDiv.appendChild(m);m=document.createElement("div");m.className="line";m.innerHTML='<div class=heading>Which base key would you like to use for keyboard shortcuts?</div><div class=selector-line><input type=radio name="hotkey" id=typeit_hotkey_selector_alt> <label for=typeit_hotkey_selector_alt><kbd class=noreplace>Alt</kbd></label> <input type=radio name="hotkey" id=typeit_hotkey_selector_ctrl> <label for=typeit_hotkey_selector_ctrl><kbd class=noreplace>Ctrl</kbd></label></div><div class=desc style="margin-top: 6px">The recommended hotkey for your browser/OS combination is <kbd class=noreplace>'+aW.slice(0,-1)+"</kbd>. Changing it may cause issues with certain shortcuts.</div>";var k=m.querySelector("#typeit_hotkey_selector_alt");var j=m.querySelector("#typeit_hotkey_selector_ctrl");if(gModifier=="Alt+"){m.querySelector("#typeit_hotkey_selector_alt").checked=true}else{if(gModifier=="Ctrl+"){m.querySelector("#typeit_hotkey_selector_ctrl").checked=true}}k.onchange=j.onchange=function(){if(k.checked){gModifier="Alt+"}else{if(j.checked){gModifier="Ctrl+"}}modifierSetting.save()};this.mainDiv.appendChild(m);if(HIGHLIGHT_FREQUENT_BUTTONS){m=document.createElement("div");m.className="line";var i=document.createElement("\x61");i.tabIndex=0;i.appendChild(document.createTextNode("Clear highlights on buttons"));i.onclick=cn.Y;m.appendChild(i);this.mainDiv.appendChild(m)}var h=document.createElement("div");h.className="close-message";h.appendChild(document.createTextNode("click outside window to close"));this.mainDiv.appendChild(h);document.body.appendChild(this.mainDiv);var g=this.mainDiv.getBoundingClientRect();var d=g.bottom-g.top;var c=getViewportHeight();var b=getViewportWidth();this.mainDiv.style.left=((b-a>0)?Math.round((b-a)/2):0)+"px";this.mainDiv.style.top=((c-d>0)?Math.round((c-d)/2):0)+"px";this.S=new DocumentClickTracker();this.S.start(this.Z,gTextBoxIframeWindow?[document,gTextBoxDocument]:[document]);new Fader("in",[this.mainDiv],"0.1s")},aa:function(){new Fader("out",[this.mainDiv],"0.1s",2);this.mainDiv=null;this.S.stop()},V:function(){if(cg.mainDiv){cg.aa()}else{cg.X()}},Z:function(a){if(cg.mainDiv.contains(a)||cg.U.contains(a)){return}cg.aa()}};function ci(){var h,a,i;if(fontSelector&&fontOptions){h=false;if(a=getCookie("fName-"+prefCookiesPostfix)){for(var g=0;g<fontOptions.length;g++){if(fontOptions[g].value==a){h=true;fontSelector.selectedIndex=g;break}}}if(!h){for(var g=0;g<fontOptions.length;g++){if(fontOptions[g].getAttribute("data-typeit_default")){fontSelector.selectedIndex=g}}}var d=fontOptions[fontSelector.selectedIndex].getAttribute("data-typeit_stack");i=(d)?(d):fontOptions[fontSelector.selectedIndex].value;var c=fontOptions[fontSelector.selectedIndex].getAttribute("data-typeit_lineheight");if(c){gTextBoxInnerStyle.lineHeight=c}gTextBoxInnerStyle.fontFamily=i}if(fontSizePlus&&fontSizeMinus){var b=getCookie("fSize-"+prefCookiesPostfix);if(parseInt(b)>11){aZ=parseInt(b)}else{aZ=DEFAULT_FONT_SIZE}}else{aZ=DEFAULT_FONT_SIZE}gTextBoxInnerStyle.fontSize=aZ+"px"}var cj={O:null,H:true,init:function(){this.O=document.getElementById("typeit_shortcuts_toggle_selector");if(this.O){this.H=this.O.checked;this.O.onclick=this.Q}else{this.H=true}},P:function(a){this.H=a;if(this.O){this.O.checked=a}},ab:function(){this.P(!this.H)},G:function(){cj.ab();popup.showBriefPopup(cj.O,(cj.H?"Shortcuts are ON":"Shortcuts are OFF"),null,130,1500,true)},Q:function(a){cj.P(this.checked);bn();bp()}};var ck={init:function(){var c;if(BrowserDetect.supportsClipboardWriting){c=document.getElementsByName("SelectAll");if(c[0]){c[0].style.display="none"}}else{c=document.getElementsByName("CopyAll");if(c[0]){c[0].style.display="none"}}if(gTextArea){document.getElementById("typeit_formattingbuttons").style.display="none"}else{c=document.querySelectorAll("#typeit_formattingbuttons button");for(var b=0;b<c.length;b++){c[b].onmousedown=this.ac}}c=document.querySelectorAll("#typeit_editbuttons > button");for(var b=0;b<c.length;b++){c[b].onclick=this.ac}if(BrowserDetect.MacOS||BrowserDetect.iOS){var a=document.getElementById("typeit_removeformat");if(a){a.title=a.title.replace("Ctrl+Space","โE")}c=document.querySelectorAll("#typeit_editbuttons button");for(var b=0;b<c.length;b++){c[b].title=c[b].title.replace(/Ctrl\+/g,"\u2318")}}},ac:function(a){if(bf.length>0){bf=[]}command(this.name)}};function cl(){cj.init();cd.init();var b=document.getElementById("typeit_reset_highlights");if(b){b.onclick=function(c){cn.Y();bp()}}cg.init();if(fontSelector&&fontOptions){fontSelector.onchange=function a(d){setCookie("fName-"+prefCookiesPostfix,this.value,"\x2f",180);var c=fontOptions[fontSelector.selectedIndex];var h=c.getAttribute("data-typeit_stack");gTextBoxInnerStyle.fontFamily=(h)?(h):c.value;var g=c.getAttribute("data-typeit_lineheight");if(g){gTextBoxInnerStyle.lineHeight=g}else{gTextBoxInnerStyle.lineHeight=""}bn()}}if(fontSizePlus&&fontSizeMinus){fontSizePlus.onclick=function(){aZ+=1;setCookie("fSize-"+prefCookiesPostfix,aZ,"\x2f",180);gTextBoxInnerStyle.fontSize=aZ+"px";bn()};fontSizeMinus.onclick=function(){if(aZ>=12){aZ-=1;setCookie("fSize-"+prefCookiesPostfix,aZ,"\x2f",180);gTextBoxInnerStyle.fontSize=aZ+"px"}bn()}}}function cm(a){return("rgb("+a[0]+"\x2c"+a[1]+"\x2c"+a[2]+"\x29")}var cn={init:function(){this.ad=0;this.ae=35;this.af=400;this.ag=2;if(BrowserDetect.IE8){this.ah=this.ai;this.aj=this.ak}var d=window.charButtonsSection.querySelectorAll("span.keyblock");for(var c=0;c<d.length;c++){if(d[c].className.indexOf("darker")!=-1||d[c].className.indexOf("extra")!=-1){startTextColor=[45,45,45];startBackgroundColor=[212,212,212]}else{startTextColor=[51,51,51];startBackgroundColor=[230,230,230]}var a=d[c].getElementsByTagName("button");for(var b=0;b<a.length;b++){a[b].al=startTextColor;a[b].am=startBackgroundColor;a[b].onmouseover=cn.ah;a[b].onmouseout=cn.aj}}this.an()},ah:function(a){this.ao=true;if(this.ap<0.02){this.style.backgroundColor="rgba(255,255,255,0.5)"}else{this.style.backgroundColor=cm(cn.aq(this.backgroundColor))}},ai:function(a){this.ao=true;this.style.backgroundColor=cm(cn.aq(this.backgroundColor))},aj:function(a){this.ao=false;if(this.ap<0.02){this.style.backgroundColor="transparent"}else{this.style.backgroundColor=cm(this.backgroundColor)}},ak:function(a){this.ao=false;this.style.backgroundColor=cm(this.backgroundColor)},aq:function(b){var a=new Array(3);for(var c=0;c<3;c++){a[c]=Math.round(b[c]*1.09);if(a[c]>255){a[c]=255}}return a},ar:function(c){if(c.target){var b=c.target}else{var b=c.srcElement}if(this.ad<=b.as){b.at=Math.round(b.at*(1+(1-b.ap)*(this.ag-1)));if(b.at>this.af){b.at=this.af}}else{b.at=this.ae}b.as=this.ad+b.at;b.ap=1;for(var d=0;d<window.charButtons.length;d++){var a=window.charButtons[d];if(a.ap>0){a.ap=(a.as-this.ad)/a.at;this.au(a)}}this.ad++},Y:function(){for(var b=0;b<window.charButtons.length;b++){var a=window.charButtons[b];a.ap=0;a.as=-1;cn.au(a)}},au:function(d){if(d.ap==0){d.backgroundColor=d.am;var b=0}else{var b=Math.sqrt(d.ap)/3;var a=new Array(3);a[0]=Math.round(d.am[0]+(BUTTON_HIGHLIGHT_BG_COLOR[0]-d.am[0])*b);a[1]=Math.round(d.am[1]+(BUTTON_HIGHLIGHT_BG_COLOR[1]-d.am[1])*b);a[2]=Math.round(d.am[2]+(BUTTON_HIGHLIGHT_BG_COLOR[2]-d.am[2])*b);d.backgroundColor=a}if(d.ao){d.style.backgroundColor=cm(this.aq(d.backgroundColor))}else{if(!BrowserDetect.IE8&&d.ap<0.02){d.style.backgroundColor="transparent"}else{d.style.backgroundColor=cm(d.backgroundColor)}}var g=new Array(3);g[0]=Math.round(d.al[0]+(BUTTON_HIGHLIGHT_TEXT_COLOR[0]-d.al[0])*b);g[1]=Math.round(d.al[1]+(BUTTON_HIGHLIGHT_TEXT_COLOR[1]-d.al[1])*b);g[2]=Math.round(d.al[2]+(BUTTON_HIGHLIGHT_TEXT_COLOR[2]-d.al[2])*b);var c=cm(g);d.style.color=c},av:function(){var b="";for(var a=0;a<window.charButtons.length;a++){var c=window.charButtons[a];b+=c.name+"\x7c"+Math.round(c.ap*100)+"\x7c"+c.at+"\x7c"}if(window.localStorage){localStorage.setItem("highlightStatus-"+editorID,b)}},an:function(){if(window.localStorage){var d=localStorage.getItem("highlightStatus-"+editorID)}if(d!==null){var h=d.split("\x7c");var c=new Object;var b=0;while(b+2<h.length){var a=h[b];c[a]={ap:parseInt(h[b+1])/100,at:parseInt(h[b+2])};b+=3}}for(var j=0;j<window.charButtons.length;j++){var g=window.charButtons[j];if(c&&c[g.name]){if(c[g.name].ap>=0&&c[g.name].ap<=1&&c[g.name].at>0){g.ap=c[g.name].ap;if(c[g.name].at>this.af){g.at=this.af}else{g.at=c[g.name].at}g.as=this.ad+Math.round(g.at*g.ap)}else{g.ap=0;g.at=this.ae;g.as=-1}}else{g.ap=0;g.at=this.ae;g.as=-1}this.au(g)}}};var co={aw:0,ax:false,ay:null,az:null,aA:null,aB:false,init:function(){for(var j=0;j<window.charButtons.length;j++){var a=window.charButtons[j];if(a.name&&chars[a.name]){if(!this.aC(chars[a.name].exclude)){if(a.firstChild==null){var k;if(chars[a.name].displayOnWin&&BrowserDetect.Windows){k=chars[a.name].displayOnWin}else{if(chars[a.name].display){k=chars[a.name].display}else{k=chars[a.name].lower}}if(chars[a.name].format=="italic"){a.innerHTML="<i>"+k+"</i>"}else{if(chars[a.name].format=="superscript"){a.innerHTML="<sup>"+k+"</sup>"}else{if(chars[a.name].format=="strikethrough"){a.innerHTML="<s>"+k+"</s>"}else{a.innerHTML=k}}}}a.onclick=co.aD}else{a.style.display="none"}}}for(var h in keys){var g=keys[h].length;for(var d=0;d<g;d++){if(keys[h][d]===undefined){alert("keys["+h+"] refers to undefined char at position "+d+"\x21");continue}if(this.aC(keys[h][d].exclude)){if(g>1){keys[h].splice(d,1);d--;g--}else{delete keys[h];break}}}}co.ay=document.getElementById("typeit_showhiddenbuttons");co.az=document.getElementById("typeit_hidehiddenbuttons");if(co.ay&&co.az){co.aA=document.querySelectorAll("#typeit_buttons > *[data-typeit_hidden]");var c=localStorage.getItem("hiddenButtons-"+editorID);co.aB=(c=="shown"||(c===null&&HIDDEN_BUTTONS_SHOWN_BY_DEFAULT));if(co.aB){for(var b=0;b<co.aA.length;b++){co.ay.style.display="none";co.az.style.display=""}}else{for(var b=0;b<co.aA.length;b++){co.aA[b].style.display="none";co.aA[b].style.visibility="hidden";co.ay.style.display="";co.az.style.display="none"}}co.ay.onclick=co.aE;co.az.onclick=co.aF}},aE:function(c){if(co.aB){return false}co.aB=true;localStorage.setItem("hiddenButtons-"+editorID,"shown");if(SMOOTH_TRANSITIONS){transition.start("slide+fade","in",null,null,co.aA,a,setTextBoxHeight)}else{for(var b=0;b<co.aA.length;b++){co.aA[b].style.display="block";co.aA[b].style.visibility=""}a()}co.ay.style.display="none";function a(){co.az.style.display=""}},aF:function(c){if(!co.aB){return false}co.aB=false;localStorage.setItem("hiddenButtons-"+editorID,"hidden");if(SMOOTH_TRANSITIONS){transition.start("slide+fade","out",null,null,co.aA,a,setTextBoxHeight)}else{for(var b=0;b<co.aA.length;b++){co.aA[b].style.display="none";co.aA[b].style.visibility="hidden"}a()}co.az.style.display="none";function a(){co.ay.style.display=""}},aC:function(c){if(!c){return false}if(!c[0]){alert("TypeIt error: exclude is not an array!");return false}for(var a=0;a<c.length;a++){var d=c[a];if(d.name==BrowserDetect.browser){if(!d.versions){return true}if(!d.versions[0]){alert("TypeIt error: exclude.versions is not an array!");return true}for(var b=0;b<d.versions.length;b++){if(d.versions[b]==BrowserDetect.majorVersion){return true}}}}return false},aD:function(a){if(!a){var a=window.event}if(a.button===0||(a.button===1&&BrowserDetect.IE8)){if((gModifier=="Alt+"&&a.altKey)||(gModifier=="Ctrl+"&&a.ctrlKey)){if(BrowserDetect.supportsClipboardWriting&&chars[this.name].lower){if(!co.ax){ga("send","event","chars","single char copied to clipboard");co.ax=true}if(BrowserDetect.IE8){bn();bo()}var b=document.createElement("textarea");var k,j;if(a.shiftKey&&chars[this.name].upper){k=chars[this.name].upper;j=true}else{k=chars[this.name].lower;j=false}b.value=k;b.style.position="fixed";b.style.left="0px";b.style.top="0px";b.style.width="1px";b.style.height="1px";b.style.borderStyle="none";b.style.opacity="0.01";b.style.background="transparent";b.style.color="white";document.body.appendChild(b);b.select();try{var i=document.execCommand("copy",false,false)}catch(d){var i=false}document.body.removeChild(b);if(i){bn();var g=this.className;if(j){var h=this.innerHTML}if(g.indexOf(" copied")==-1){this.className=g+" copied";if(j){while(this.firstChild){this.removeChild(this.firstChild)}this.appendChild(document.createTextNode(k))}var c=this;window.setTimeout(function(){c.className=g;if(j){c.innerHTML=h}},1500)}popup.showBriefPopup(this,"Copied to clipboard",null,130,1500)}else{popup.showBriefPopup(this,"Error: cannot copy to clipboard!","error",210,1500)}if(a.preventDefault){a.preventDefault()}else{a.returnValue=false;return false}}}else{bO({aG:true});bq(chars[this.name],a.shiftKey);if(HIGHLIGHT_FREQUENT_BUTTONS){cn.ar(a)}co.aw++;if(ga){if(co.aw==1){ga("send","event","chars","1 char button pressed")}else{if(co.aw==3){ga("send","event","chars","3 char buttons pressed")}else{if(co.aw==5){ga("send","event","chars","5 char buttons pressed");if(bj<=1&&BrowserDetect.supportsKeyboard&&CARET_SHORTCUT_TIP){popup.showCaretPopup("shcuts",CARET_SHORTCUT_TIP,false,[window.toolbar])}}}}}}}}};function setupBrowserDependentStrings(){if(!BrowserDetect.supportsClipboardWriting){var b=document.querySelectorAll(".if-clipboard-writing");for(var a=0;a<b.length;a++){b[a].style.display="none"}}if(BrowserDetect.MacOS||BrowserDetect.iOS){b=document.querySelectorAll("kbd.clipboard");for(var a=0;a<b.length;a++){var c=b[a].firstChild;if(c.nodeType==Node.TEXT_NODE){c.nodeValue=c.nodeValue.replace("Ctrl","\u2318")}}}}function setupModifierDependentUI(){var c;if(gModifier=="Ctrl+"){var h="Alt";var g="Ctrl"}else{if(gModifier=="Alt+"){var h="Ctrl";var g="Alt"}}c=document.getElementsByTagName("kbd");for(var b=0;b<c.length;b++){if(c[b].className.indexOf("clipboard")!=-1||c[b].className.indexOf("noreplace")!=-1){continue}var d=c[b].firstChild;if(d.nodeType==Node.TEXT_NODE){d.nodeValue=d.nodeValue.replace(h,g)}}c=document.querySelectorAll("span.plain-kbd");for(var b=0;b<c.length;b++){var d=c[b].firstChild;if(d.nodeType==Node.TEXT_NODE){d.nodeValue=d.nodeValue.replace(h,g)}}c=document.querySelectorAll("#typeit_buttons button");for(var b=0;b<c.length;b++){if(c[b].className.indexOf("fixed-modifier")==-1){c[b].title=c[b].title.replace(new RegExp(h,"\x67"),g)}}c=document.querySelectorAll(".popuphelp");for(var b=0;b<c.length;b++){var a=c[b].getAttribute("data-popup_title");if(a){c[b].setAttribute("data-popup_title",a.replace(new RegExp("(<kbd>[^<]*)"+h+"([^<]*</)","\x67"),"$1"+g+"$2"))}}if(CARET_SHORTCUT_TIP){CARET_SHORTCUT_TIP=CARET_SHORTCUT_TIP.replace(new RegExp("(<kbd>[^<]*)"+h+"([^<]*</)","\x67"),"$1"+g+"$2")}}function cp(d,a,g){var c=0;function b(i){if(i.nodeType==Node.ELEMENT_NODE&&i!=a){c+=1}if(!g&&i==d){return true}if(i.nodeType==Node.TEXT_NODE){c+=i.nodeValue.length}else{if(i.nodeType==Node.ELEMENT_NODE){var h=i.firstChild;while(h){if(b(h)){return true}h=h.nextSibling}if(i!=a){c+=1}}}if(g&&i==d){return true}return false}if(b(a)){return c}else{return 0}}function cq(b,a){if(b.nodeType==Node.TEXT_NODE){return a}else{if(b.nodeType==Node.ELEMENT_NODE){if(a==0){return 0}if(b.childNodes[a-1]){return cp(b.childNodes[a-1],b,true)}}}return 0}var cr={aH:null,aI:null,aJ:null,clear:function(){this.aH=this.aI=this.aJ=null},aK:function(){var a=this.aH+"<>"+this.aI+"<>"+this.aJ;setCookie("textBoxHash",ce(a),"\x2f");window.name=a},aL:function(){var b=getCookie("textBoxHash");if(b===null||ce(window.name)!=b){return false}deleteCookie("textBoxHash","\x2f");var a=window.name.split("<>");this.aM();if(a.length<3){return false}this.aH=a[0];this.aI=parseInt(a[1]);this.aJ=parseInt(a[2]);if(!(this.aI>=0)||!(this.aJ>=0)){return false}return true},aM:function(){window.name=""},saveInStorage:function(){if(!window.STORAGE){return false}window.STORAGE.setItem("textBoxContents",this.aH);window.STORAGE.setItem("textBoxStartPos",this.aI);window.STORAGE.setItem("textBoxEndPos",this.aJ);return true},aN:function(){if(!window.STORAGE){return false}this.aH=window.STORAGE.getItem("textBoxContents");if(this.aH===null){return false}this.aI=window.STORAGE.getItem("textBoxStartPos");if(this.aI===null){return false}else{this.aI=parseInt(this.aI)}this.aJ=window.STORAGE.getItem("textBoxEndPos");if(this.aJ===null){return false}else{this.aJ=parseInt(this.aJ)}if(!(this.aI>=0)||!(this.aJ>=0)){return false}return true},aO:function(){if(!window.STORAGE){return false}window.STORAGE.removeItem("textBoxContents");window.STORAGE.removeItem("textBoxStartPos");window.STORAGE.removeItem("textBoxEndPos")},save:function(d){if(cv()){cr.aO();return}if(document.selection){var a=bg.duplicate();var g=a.text.length;cr.aI=-a.move("character",-2000000);cr.aJ=cr.aI+g}else{if(gTextBoxSelection){var b=gTextBoxSelection;if(b.anchorNode!==null){var c=cp(b.anchorNode,gTextBoxDocument.body);cr.aI=c+cq(b.anchorNode,b.anchorOffset);if(b.focusNode==b.anchorNode){if(b.focusOffset==b.anchorOffset){cr.aJ=cr.aI}else{cr.aJ=c+cq(b.focusNode,b.focusOffset)}}else{cr.aJ=cp(b.focusNode,gTextBoxDocument.body)+cq(b.focusNode,b.focusOffset)}}else{cr.aI=cr.aJ=0}}else{cr.aI=cr.aJ=0}}cr.aH=gTextBoxDocument.body.innerHTML;cr.aP(d)},aQ:function(a){if(cv()){cr.aO();return}cr.aI=gTextArea.selectionStart;cr.aJ=gTextArea.selectionEnd;cr.aH=gTextArea.value;cr.aP(a)},aP:function(a){if(a){cr.aO();cr.aK()}else{cr.saveInStorage()}},aR:function(){if(!cr.aS()){bm();bo();return false}gTextBoxDocument.body.innerHTML=cr.aH;if(document.selection){bn();bo();if(cr.aI!==null&&cr.aJ!==null){bg.move("character",cr.aI);var d=cr.aJ-cr.aI;bg.moveEnd("character",d);var c=bg.getBoundingClientRect().top;bg.select()}}else{if(gTextBoxSelection&&gTextBoxSelection.getRangeAt){bm();if(cr.aI!==null&&cr.aJ!==null){var a,g;a=cs(cr.aI);if(cr.aI==cr.aJ){g=a}else{g=cs(cr.aJ)}if(a!==null&&g!==null){if(gTextBoxSelection.setBaseAndExtent){gTextBoxSelection.setBaseAndExtent(a.k,a.m,g.k,g.m)}else{gTextBoxSelection.collapse(a.k,a.m);gTextBoxSelection.extend(g.k,g.m)}var b=gTextBoxSelection.getRangeAt(0);if(b.getBoundingClientRect){var c=(cr.aJ>=cr.aI?b.getBoundingClientRect().bottom:b.getBoundingClientRect().top);if(c==0){b=b.cloneRange();bE(b,1);c=gTextBoxIframeWindow.pageYOffset+(cr.aJ>=cr.aI?b.getBoundingClientRect().bottom:b.getBoundingClientRect().top)}else{c+=gTextBoxIframeWindow.pageYOffset}}}}}}gTextBoxIframeWindow.setScroll(Math.round(c-(bl*0.4)));bn()},aT:function(){if(!cr.aS()){return false}gTextArea.value=cr.aH;gTextArea.selectionStart=cr.aI;gTextArea.selectionEnd=cr.aJ;bn()},aS:function(){if(cr.aL()){cr.saveInStorage();return true}else{if(cr.aN()){return true}else{cr.clear();return false}}}};function cs(g){var a=0;var h=gTextBoxDocument.body;var d=null;var c=null;function b(k){if(a>=g&&k!=h){alert("Searched-for position reached at node entry")}if(k.nodeType==Node.ELEMENT_NODE){if(k!=h){a+=1}if(a==g){d=k;c=0;return true}}if(k.nodeType==Node.TEXT_NODE){if(a+k.nodeValue.length>=g){d=k;c=g-a;return true}else{a+=k.nodeValue.length}}else{if(k.nodeType==Node.ELEMENT_NODE){var j=k.childNodes;for(var i=0;i<j.length;i++){if(b(j[i])){return true}else{if(a==g){d=k;c=i+1;return true}}}if(k!=h){a+=1}}}return false}if(b(h)&&d!==null&&c!==null){return{k:d,m:c}}else{return null}}function ct(c){for(var a=0;a<c.length;a++){var b=c.charAt(a);if(b!="\0"&&b!="\x20"&&b!="\u00A0"&&b!="\n"&&b!="\r"&&b!="\t"&&b!="\b"&&b!="\f"&&b!="\v"){return true}}return false}function cu(b){if(b.nodeType==Node.TEXT_NODE){if(ct(b.nodeValue)){return true}else{return false}}else{if(b.nodeType==Node.ELEMENT_NODE){var a=b.firstChild;while(a){if(cu(a)){return true}a=a.nextSibling}return false}else{return false}}}function cv(){if(gTextArea){return !ct(gTextArea.value)}else{return !cu(gTextBoxDocument.body)}}function cw(a){if(HIGHLIGHT_FREQUENT_BUTTONS){cn.av()}cr.save(a)}function onNavLinkClick(){cw(gTextBoxIframeWindow?false:true)}function cx(){var b=[toolbar,prefbar];if(SMOOTH_TRANSITIONS){new Fader("in",b,"0.4s")}else{for(var a=0;a<b.length;a++){b[a].style.visibility=""}}}var imageOverlay={mainDiv:null,URI:null,create:function(h,a,i){if(this.mainDiv){if(h==imageOverlay.URI){return false}else{imageOverlay.destroy()}}imageOverlay.mainDiv=document.createElement("div");imageOverlay.mainDiv.className="typeit_overlay";imageOverlay.mainDiv.style.position="fixed";imageOverlay.mainDiv.style.width=a+"px";imageOverlay.mainDiv.style.height=i+"px";imageOverlay.mainDiv.style.backgroundColor="white";imageOverlay.mainDiv.style.left="0px";imageOverlay.mainDiv.style.top="0px";imageOverlay.mainDiv.style.borderWidth="1px";imageOverlay.mainDiv.onclick=imageOverlay.destroy;imageOverlay.mainDiv.style.visibility="hidden";imageOverlay.URI=h;var g=document.createElement("img");g.src=h;g.style.width=a+"px";g.style.height=i+"px";var d=document.createElement("div");d.innerHTML="Click on image to close";d.className="message";d.style.position="absolute";imageOverlay.mainDiv.appendChild(g);imageOverlay.mainDiv.appendChild(d);document.body.appendChild(imageOverlay.mainDiv);var c=getViewportHeight();var b=getViewportWidth();divHeight=i+2;divWidth=a+2;imageOverlay.mainDiv.style.left=((b-divWidth>0)?Math.round((b-divWidth)/2):0)+"px";imageOverlay.mainDiv.style.top=((c-divHeight>0)?Math.round((c-divHeight)/2):0)+"px";new Fader("in",[imageOverlay.mainDiv],"0.5s")},destroy:function(){imageOverlay.mainDiv.onclick=null;new Fader("out",[imageOverlay.mainDiv],"0.5s",2);imageOverlay.mainDiv=null}};function getTextBoxSelectionRect(){if(gTextArea){return null}var c;if(document.selection){bo();c=bg.getBoundingClientRect()}else{if(gTextBoxSelection.rangeCount==0){return null}var b=gTextBoxSelection.getRangeAt(0);if(b.getBoundingClientRect){c=b.getBoundingClientRect();if(c.bottom==0){b=b.cloneRange();bE(b,1);c=b.getBoundingClientRect()}}else{return null}}var a=window.textBoxContainer.getBoundingClientRect();return{left:c.left+a.left,right:c.right+a.left,top:c.top+a.top,bottom:c.bottom+a.top}}function setTextBoxHeight(){var b=getViewportHeight();var a=textBoxContainer.getBoundingClientRect().top+(window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop);if(a>0){var c=(b-a-65);if(c<240){bl=240}else{if(c>550){bl=550}else{bl=c}}textBoxContainer.style.height=bl+"px"}}try{if(Node.ELEMENT_NODE!==1){}}catch(e){var Node={ELEMENT_NODE:1,TEXT_NODE:3}}function cy(){if(ba){return}try{document.documentElement.doScroll("left")}catch(a){setTimeout(cy,50);return}init()}if(!BrowserDetect.IE8){document.addEventListener("DOMContentLoaded",init,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",init);window.attachEvent("onload",init);var toplevel=false;try{toplevel=window.frameElement==null}catch(e){}if(document.documentElement.doScroll&&toplevel){cy()}}}function init(){if(ba){return}if(BrowserDetect.IE8){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",init)}else{return}}if(!document.body){setTimeout(init,1);return}window.textBoxContainer=document.getElementById("typeit_textbox");if(textBoxContainer===null){throw"TypeIt error: Could not locate element with id = 'typeit_textbox'!"}if(textBoxContainer.nodeName=="IFRAME"){gTextArea=null;if(!textBoxHasLoaded){textBoxContainer.onload=init;textBoxHasLoaded=true;return}gTextBoxIframeWindow=textBoxContainer.contentWindow;gTextBoxDocument=textBoxContainer.contentDocument;gTextBoxSelection=(gTextBoxIframeWindow.getSelection?gTextBoxIframeWindow.getSelection():null);gTextBoxInnerStyle=gTextBoxDocument.body.style;gTextBoxEventObject=gTextBoxDocument;if(BrowserDetect.Firefox){bm=function(){gTextBoxDocument.body.focus();gTextBoxIframeWindow.focus()};bn=function(){gTextBoxIframeWindow.focus()}}else{bm=bn=function(){gTextBoxDocument.body.focus()}}if(BrowserDetect.IE8){br=bs;bu=bw;bx=bz;bA=bC}}else{if(textBoxContainer.nodeName=="TEXTAREA"){gTextArea=textBoxContainer;gTextBoxDocument=null;gTextBoxEventObject=gTextArea;gTextBoxIframeWindow=null;gTextBoxSelection=null;gTextBoxInnerStyle=gTextArea.style;bm=bn=function(){gTextArea.focus()};br=bt;bu=bv;bx=by;bA=bB;cr.save=cr.aQ;cr.aR=cr.aT}else{throw"TypeIt error: Element #typeit_textbox is neither an IFRAME nor a TEXTAREA"}}ba=true;setupAddEventListenerPolyfill(gTextBoxIframeWindow?[document,gTextBoxDocument]:[document]);window.fontSelector=document.getElementById("typeit_fontselector");if(window.fontSelector){window.fontOptions=fontSelector.getElementsByTagName("option")}window.fontSizePlus=document.getElementById("typeit_font_plus");window.fontSizeMinus=document.getElementById("typeit_font_minus");window.toolbar=document.getElementById("typeit_toolbar");if(!window.toolbar){throw"TypeIt error: Could not locate element with id = 'typeit_toolbar'!"}window.prefbar=document.getElementById("typeit_prefbar");if(!window.prefbar){throw"TypeIt error: Could not locate element with id = 'typeit_prefbar'!"}window.charButtonsSection=document.getElementById("typeit_buttons");if(!window.charButtonsSection){throw"TypeIt error: Could not locate element with id = 'typeit_buttons'!"}window.charButtons=window.charButtonsSection.getElementsByTagName("button");if(bh.indexOf("\u0074\u0079\u0070\u0065\u0069\u0074")==-1){bq=function(){bi=true}}ci();ck.init();co.init();if(HIGHLIGHT_FREQUENT_BUTTONS){cn.init()}setTextBoxHeight();textBoxContainer.style.visibility="inherit";window.STORAGE=(gTextBoxIframeWindow?gTextBoxIframeWindow.sessionStorage:window.sessionStorage);if(!BrowserDetect.iOS){window.onbeforeunload=function(){cw()}}if(!gTextBoxIframeWindow||BrowserDetect.iOS){var b=document.querySelectorAll("#typeit_navbar a[href]");for(var a=0;a<b.length;a++){b[a].onclick=onNavLinkClick}}if(window.STORAGE){window.intervalID=window.setInterval(function(){cw(false)},40*1000)}cr.aR();cl();popup.init(gTextBoxIframeWindow?[document,gTextBoxDocument]:[document]);if(BrowserDetect.IE8){gTextBoxEventObject.body.onselect=function(){bo()};gTextBoxEventObject.body.onpaste=bV}else{if(gTextBoxEventObject.onpaste!==undefined){gTextBoxEventObject.onpaste=bV}}gTextBoxEventObject.onmouseup=bT;if(gTextBoxEventObject.ontouchstart!==undefined){gTextBoxEventObject.ontouchstart=bW}document.onmouseup=bU;gTextBoxEventObject.onblur=function(){bO({blur:true})};gTextBoxEventObject.oncontextmenu=function(){bO({aU:true})};gTextBoxEventObject.onkeyup=bS;gTextBoxEventObject.onkeydown=bQ;gTextBoxEventObject.onkeypress=bR;window.onresize=setTextBoxHeight;window.composedTextLength=0;if(BrowserDetect.Safari&&gTextBoxEventObject.addEventListener){gTextBoxEventObject.addEventListener("compositionupdate",function(c){window.composedTextLength=c.data.length},false);gTextBoxEventObject.addEventListener("compositionend",function(c){window.composedTextLength=0},false)}if(BrowserDetect.IE8){toolbar.onclick=bp}else{if(BrowserDetect.Firefox){toolbar.onmousedown=function(c){if(!c.target.name){c.preventDefault()}};toolbar.onmouseup=function(c){bn()}}else{toolbar.onmousedown=function(c){c.preventDefault()}}}cx()};